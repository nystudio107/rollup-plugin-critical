"use strict";var w=Object.create;var l=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var j=(i,t)=>{for(var r in t)l(i,r,{get:t[r],enumerable:!0})},m=(i,t,r,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of S(t))!U.call(i,c)&&c!==r&&l(i,c,{get:()=>t[c],enumerable:!(e=y(t,c))||e.enumerable});return i};var g=(i,t,r)=>(r=i!=null?w(b(i)):{},m(t||!i||!i.__esModule?l(r,"default",{value:i,enumerable:!0}):r,i)),x=i=>m(l({},"__esModule",{value:!0}),i);var O={};j(O,{default:()=>N});module.exports=x(O);var h=g(require("path")),A="_critical.min.css",B={inline:!1,extract:!1,width:1200,height:1200,penthouse:{blockJSRequests:!1}};function k(i,t){return{name:"critical",async writeBundle(r,e){let c=[];for(let a of Object.values(e))if(a.type==="asset"&&a.fileName.endsWith(".css")){let s=h.join(r.dir||"",a.fileName);c.push(s)}if(!c.length)return;let d=Array.isArray(i.criticalUrl)?i.criticalUrl:[{url:i.criticalUrl,id:""}];for(let{url:a,id:s=""}of d){if(!a)throw new Error("Configuration is missing a criticalUrl property.");for(let o of i.criticalPages){let p=i.criticalBase,f=a+o.uri,u=i.criticalConfig&&i.criticalConfig.inline==!0?o.template+".html":o.template+(s?"_"+s:"")+A,C=Object.assign({css:c},B,{base:p,src:f,target:u},i.criticalConfig),P=(await import("critical")).generate;console.log(`Generating critical CSS from ${f} to ${u}`),await P(C,n=>{n&&console.error(n),t&&t(n)})}}}}}var N=k;0&&(module.exports={});
//# sourceMappingURL=index.js.map